GAS LISTING /tmp/ccDlUtvF.s 			page 1


   1               		.file	"event.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/aluno/RTOs - N apagar, \343\201\217\343\201\240\343\201\225\343\201\204/13aula/remot
   8               		.stabs	"event.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"short _Fract:t(0,15)=r(0,1);1;0;",128,0,0,0
  27               		.stabs	"_Fract:t(0,16)=r(0,1);2;0;",128,0,0,0
  28               		.stabs	"long _Fract:t(0,17)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"long long _Fract:t(0,18)=r(0,1);8;0;",128,0,0,0
  30               		.stabs	"unsigned short _Fract:t(0,19)=r(0,1);1;0;",128,0,0,0
  31               		.stabs	"unsigned _Fract:t(0,20)=r(0,1);2;0;",128,0,0,0
  32               		.stabs	"unsigned long _Fract:t(0,21)=r(0,1);4;0;",128,0,0,0
  33               		.stabs	"unsigned long long _Fract:t(0,22)=r(0,1);8;0;",128,0,0,0
  34               		.stabs	"_Sat short _Fract:t(0,23)=r(0,1);1;0;",128,0,0,0
  35               		.stabs	"_Sat _Fract:t(0,24)=r(0,1);2;0;",128,0,0,0
  36               		.stabs	"_Sat long _Fract:t(0,25)=r(0,1);4;0;",128,0,0,0
  37               		.stabs	"_Sat long long _Fract:t(0,26)=r(0,1);8;0;",128,0,0,0
  38               		.stabs	"_Sat unsigned short _Fract:t(0,27)=r(0,1);1;0;",128,0,0,0
  39               		.stabs	"_Sat unsigned _Fract:t(0,28)=r(0,1);2;0;",128,0,0,0
  40               		.stabs	"_Sat unsigned long _Fract:t(0,29)=r(0,1);4;0;",128,0,0,0
  41               		.stabs	"_Sat unsigned long long _Fract:t(0,30)=r(0,1);8;0;",128,0,0,0
  42               		.stabs	"short _Accum:t(0,31)=r(0,1);2;0;",128,0,0,0
  43               		.stabs	"_Accum:t(0,32)=r(0,1);4;0;",128,0,0,0
  44               		.stabs	"long _Accum:t(0,33)=r(0,1);8;0;",128,0,0,0
  45               		.stabs	"long long _Accum:t(0,34)=r(0,1);8;0;",128,0,0,0
  46               		.stabs	"unsigned short _Accum:t(0,35)=r(0,1);2;0;",128,0,0,0
  47               		.stabs	"unsigned _Accum:t(0,36)=r(0,1);4;0;",128,0,0,0
  48               		.stabs	"unsigned long _Accum:t(0,37)=r(0,1);8;0;",128,0,0,0
  49               		.stabs	"unsigned long long _Accum:t(0,38)=r(0,1);8;0;",128,0,0,0
  50               		.stabs	"_Sat short _Accum:t(0,39)=r(0,1);2;0;",128,0,0,0
  51               		.stabs	"_Sat _Accum:t(0,40)=r(0,1);4;0;",128,0,0,0
  52               		.stabs	"_Sat long _Accum:t(0,41)=r(0,1);8;0;",128,0,0,0
  53               		.stabs	"_Sat long long _Accum:t(0,42)=r(0,1);8;0;",128,0,0,0
  54               		.stabs	"_Sat unsigned short _Accum:t(0,43)=r(0,1);2;0;",128,0,0,0
  55               		.stabs	"_Sat unsigned _Accum:t(0,44)=r(0,1);4;0;",128,0,0,0
  56               		.stabs	"_Sat unsigned long _Accum:t(0,45)=r(0,1);8;0;",128,0,0,0
  57               		.stabs	"_Sat unsigned long long _Accum:t(0,46)=r(0,1);8;0;",128,0,0,0
GAS LISTING /tmp/ccDlUtvF.s 			page 2


  58               		.stabs	"void:t(0,47)=(0,47)",128,0,0,0
  59               		.stabs	"/usr/lib/avr/include/avr/io.h",130,0,0,0
  60               		.stabs	"/usr/lib/avr/include/avr/sfr_defs.h",130,0,0,0
  61               		.stabs	"/usr/lib/avr/include/inttypes.h",130,0,0,0
  62               		.stabs	"/usr/lib/gcc/avr/4.9.2/include/stdint.h",130,0,0,0
  63               		.stabs	"/usr/lib/avr/include/stdint.h",130,0,0,0
  64               		.stabs	"int8_t:t(5,1)=(0,10)",128,0,121,0
  65               		.stabs	"uint8_t:t(5,2)=(0,11)",128,0,122,0
  66               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,123,0
  67               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,124,0
  68               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,125,0
  69               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,126,0
  70               		.stabs	"int64_t:t(5,7)=(0,6)",128,0,128,0
  71               		.stabs	"uint64_t:t(5,8)=(0,7)",128,0,129,0
  72               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,142,0
  73               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,147,0
  74               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,159,0
  75               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,164,0
  76               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,169,0
  77               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,174,0
  78               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,179,0
  79               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,184,0
  80               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,192,0
  81               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,199,0
  82               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,213,0
  83               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,218,0
  84               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,223,0
  85               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,228,0
  86               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,233,0
  87               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,238,0
  88               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,246,0
  89               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,253,0
  90               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,273,0
  91               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,278,0
  92               		.stabn	162,0,0,0
  93               		.stabn	162,0,0,0
  94               		.stabs	"int_farptr_t:t(3,1)=(5,5)",128,0,77,0
  95               		.stabs	"uint_farptr_t:t(3,2)=(5,6)",128,0,81,0
  96               		.stabn	162,0,0,0
  97               		.stabn	162,0,0,0
  98               		.stabs	"/usr/lib/avr/include/avr/fuse.h",130,0,0,0
  99               		.stabs	"__fuse_t:t(6,1)=(6,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,244,0
 100               		.stabn	162,0,0,0
 101               		.stabn	162,0,0,0
 102               		.stabs	"event.h",130,0,0,0
 103               		.stabs	"event_t:t(7,1)=(5,4)",128,0,6,0
 104               		.stabs	" :T(7,2)=eEVENT0:1,EVENT1:2,EVENT2:4,EVENT3:8,EVENT4:16,EVENT5:32,EVENT6:64,EVENT7:128,EVE
 105               		.stabn	162,0,0,0
 106               		.stabs	"set_event:F(0,47)",36,0,8,set_event
 107               		.stabs	"ev:P(7,1)",64,0,8,24
 108               	.global	set_event
 109               		.type	set_event, @function
 110               	set_event:
 111               		.stabd	46,0,0
   1:event.c       **** #include <avr/io.h>
   2:event.c       **** #include <avr/interrupt.h>
   3:event.c       **** #include "event.h"
GAS LISTING /tmp/ccDlUtvF.s 			page 3


   4:event.c       **** 
   5:event.c       **** 
   6:event.c       **** volatile event_t _events;
   7:event.c       **** 
   8:event.c       **** void set_event(event_t ev)
   9:event.c       **** {
 112               		.stabn	68,0,9,.LM0-.LFBB1
 113               	.LM0:
 114               	.LFBB1:
 115               	/* prologue: function */
 116               	/* frame size = 0 */
 117               	/* stack size = 0 */
 118               	.L__stack_usage = 0
  10:event.c       **** 	_events |= ev;
 119               		.stabn	68,0,10,.LM1-.LFBB1
 120               	.LM1:
 121 0000 2091 0000 		lds r18,_events
 122 0004 3091 0000 		lds r19,_events+1
 123 0008 822B      		or r24,r18
 124 000a 932B      		or r25,r19
 125 000c 9093 0000 		sts _events+1,r25
 126 0010 8093 0000 		sts _events,r24
 127 0014 0895      		ret
 128               		.size	set_event, .-set_event
 129               	.Lscope1:
 130               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 131               		.stabd	78,0,0
 132               		.stabs	"test_for_event:F(7,1)",36,0,13,test_for_event
 133               		.stabs	"ev:P(7,1)",64,0,13,24
 134               	.global	test_for_event
 135               		.type	test_for_event, @function
 136               	test_for_event:
 137               		.stabd	46,0,0
  11:event.c       **** }
  12:event.c       **** 
  13:event.c       **** event_t test_for_event(event_t ev)
  14:event.c       **** {
 138               		.stabn	68,0,14,.LM2-.LFBB2
 139               	.LM2:
 140               	.LFBB2:
 141               	/* prologue: function */
 142               	/* frame size = 0 */
 143               	/* stack size = 0 */
 144               	.L__stack_usage = 0
  15:event.c       **** 	return _events & ev;
 145               		.stabn	68,0,15,.LM3-.LFBB2
 146               	.LM3:
 147 0016 2091 0000 		lds r18,_events
 148 001a 3091 0000 		lds r19,_events+1
  16:event.c       **** }
 149               		.stabn	68,0,16,.LM4-.LFBB2
 150               	.LM4:
 151 001e 8223      		and r24,r18
 152 0020 9323      		and r25,r19
 153 0022 0895      		ret
 154               		.size	test_for_event, .-test_for_event
 155               	.Lscope2:
GAS LISTING /tmp/ccDlUtvF.s 			page 4


 156               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 157               		.stabd	78,0,0
 158               		.stabs	"wait_for_events:F(7,1)",36,0,19,wait_for_events
 159               	.global	wait_for_events
 160               		.type	wait_for_events, @function
 161               	wait_for_events:
 162               		.stabd	46,0,0
  17:event.c       **** 
  18:event.c       **** 
  19:event.c       **** event_t wait_for_events(void)
  20:event.c       **** {
 163               		.stabn	68,0,20,.LM5-.LFBB3
 164               	.LM5:
 165               	.LFBB3:
 166               	/* prologue: function */
 167               	/* frame size = 0 */
 168               	/* stack size = 0 */
 169               	.L__stack_usage = 0
 170               	.L4:
  21:event.c       **** 	uint8_t ev;
  22:event.c       **** 	event_t copy;
  23:event.c       **** 
  24:event.c       **** 	while(!_events)
 171               		.stabn	68,0,24,.LM6-.LFBB3
 172               	.LM6:
 173 0024 8091 0000 		lds r24,_events
 174 0028 9091 0000 		lds r25,_events+1
 175 002c 892B      		or r24,r25
 176 002e 01F0      		breq .L4
  25:event.c       **** 		;
  26:event.c       **** 
  27:event.c       **** 	for(ev=0, copy=_events; ev<MAX_EVENTS && copy; ev++, copy>>=1)
 177               		.stabn	68,0,27,.LM7-.LFBB3
 178               	.LM7:
 179 0030 2091 0000 		lds r18,_events
 180 0034 3091 0000 		lds r19,_events+1
 181 0038 90E0      		ldi r25,0
 182               	.L5:
 183               		.stabn	68,0,27,.LM8-.LFBB3
 184               	.LM8:
 185 003a 2115      		cp r18,__zero_reg__
 186 003c 3105      		cpc r19,__zero_reg__
 187 003e 01F0      		breq .L7
  28:event.c       **** 		if (copy & 0x1) {
 188               		.stabn	68,0,28,.LM9-.LFBB3
 189               	.LM9:
 190 0040 20FF      		sbrs r18,0
 191 0042 00C0      		rjmp .L6
  29:event.c       **** 			cli();
 192               		.stabn	68,0,29,.LM10-.LFBB3
 193               	.LM10:
 194               	/* #APP */
 195               	 ;  29 "event.c" 1
 196 0044 F894      		cli
 197               	 ;  0 "" 2
  30:event.c       **** 			_events &= ~_BV(ev);
 198               		.stabn	68,0,30,.LM11-.LFBB3
GAS LISTING /tmp/ccDlUtvF.s 			page 5


 199               	.LM11:
 200               	/* #NOAPP */
 201 0046 4091 0000 		lds r20,_events
 202 004a 5091 0000 		lds r21,_events+1
 203 004e 21E0      		ldi r18,lo8(1)
 204 0050 30E0      		ldi r19,0
 205 0052 092E      		mov r0,r25
 206 0054 00C0      		rjmp 2f
 207               		1:
 208 0056 220F      		lsl r18
 209 0058 331F      		rol r19
 210               		2:
 211 005a 0A94      		dec r0
 212 005c 02F4      		brpl 1b
 213 005e 2095      		com r18
 214 0060 3095      		com r19
 215 0062 2423      		and r18,r20
 216 0064 3523      		and r19,r21
 217 0066 3093 0000 		sts _events+1,r19
 218 006a 2093 0000 		sts _events,r18
  31:event.c       **** 			sei();
 219               		.stabn	68,0,31,.LM12-.LFBB3
 220               	.LM12:
 221               	/* #APP */
 222               	 ;  31 "event.c" 1
 223 006e 7894      		sei
 224               	 ;  0 "" 2
  32:event.c       **** 			break;
 225               		.stabn	68,0,32,.LM13-.LFBB3
 226               	.LM13:
 227               	/* #NOAPP */
 228 0070 00C0      		rjmp .L7
 229               	.L6:
  27:event.c       **** 		if (copy & 0x1) {
 230               		.stabn	68,0,27,.LM14-.LFBB3
 231               	.LM14:
 232 0072 9F5F      		subi r25,lo8(-(1))
 233 0074 3695      		lsr r19
 234 0076 2795      		ror r18
 235 0078 9031      		cpi r25,lo8(16)
 236 007a 01F4      		brne .L5
 237               	.L7:
  33:event.c       **** 		}
  34:event.c       **** 
  35:event.c       **** 	return _BV(ev);
  36:event.c       **** }
 238               		.stabn	68,0,36,.LM15-.LFBB3
 239               	.LM15:
 240 007c 21E0      		ldi r18,lo8(1)
 241 007e 30E0      		ldi r19,0
 242 0080 A901      		movw r20,r18
 243 0082 00C0      		rjmp 2f
 244               		1:
 245 0084 440F      		lsl r20
 246 0086 551F      		rol r21
 247               		2:
 248 0088 9A95      		dec r25
GAS LISTING /tmp/ccDlUtvF.s 			page 6


 249 008a 02F4      		brpl 1b
 250 008c CA01      		movw r24,r20
 251 008e 0895      		ret
 252               		.size	wait_for_events, .-wait_for_events
 253               		.stabs	"copy:r(7,1)",64,0,22,18
 254               		.stabn	192,0,0,.LFBB3-.LFBB3
 255               		.stabn	224,0,0,.Lscope3-.LFBB3
 256               	.Lscope3:
 257               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 258               		.stabd	78,0,0
 259               		.comm	_events,2,1
 260               		.stabs	"_events:G(0,48)=B(7,1)",32,0,6,0
 261               		.stabs	"",100,0,0,.Letext0
 262               	.Letext0:
 263               		.ident	"GCC: (GNU) 4.9.2"
 264               	.global __do_clear_bss
GAS LISTING /tmp/ccDlUtvF.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 event.c
     /tmp/ccDlUtvF.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccDlUtvF.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccDlUtvF.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccDlUtvF.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccDlUtvF.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccDlUtvF.s:110    .text:0000000000000000 set_event
                            *COM*:0000000000000002 _events
     /tmp/ccDlUtvF.s:136    .text:0000000000000016 test_for_event
     /tmp/ccDlUtvF.s:161    .text:0000000000000024 wait_for_events

UNDEFINED SYMBOLS
__do_clear_bss
